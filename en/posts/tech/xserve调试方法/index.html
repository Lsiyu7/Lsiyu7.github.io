<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Xserve调试方法 | Siyu&#39;s Blog</title>
<meta name="keywords" content="标签1, 标签2">
<meta name="description" content="Xserve调试方法 调试前置步骤 1、获取源码 apt source xserver-xorg-core 2、安装相关库依赖 sudo apt build-dep xserver-xorg-core 编译步骤 方法一 1 2 3 DEB_CFLAGS_SET=&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34; DEB_CXXFLAGS_SET=&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34; dpkg-buildpackage -uc -b 后续需要改动时">
<meta name="author" content="Siyu">
<link rel="canonical" href="https://Lsiyu7.github.io/en/posts/tech/xserve%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://Lsiyu7.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://Lsiyu7.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://Lsiyu7.github.io/img/Q.gif">
<link rel="apple-touch-icon" href="https://Lsiyu7.github.io/Q.gif">
<link rel="mask-icon" href="https://Lsiyu7.github.io/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Xserve调试方法" />
<meta property="og:description" content="Xserve调试方法 调试前置步骤 1、获取源码 apt source xserver-xorg-core 2、安装相关库依赖 sudo apt build-dep xserver-xorg-core 编译步骤 方法一 1 2 3 DEB_CFLAGS_SET=&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34; DEB_CXXFLAGS_SET=&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34; dpkg-buildpackage -uc -b 后续需要改动时" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Lsiyu7.github.io/en/posts/tech/xserve%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-04T21:31:47+08:00" />
<meta property="article:modified_time" content="2023-10-04T21:31:47+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Xserve调试方法"/>
<meta name="twitter:description" content="Xserve调试方法 调试前置步骤 1、获取源码 apt source xserver-xorg-core 2、安装相关库依赖 sudo apt build-dep xserver-xorg-core 编译步骤 方法一 1 2 3 DEB_CFLAGS_SET=&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34; DEB_CXXFLAGS_SET=&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34; dpkg-buildpackage -uc -b 后续需要改动时"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  5 ,
      "name": "Xserve调试方法",
      "item": "https://Lsiyu7.github.io/en/posts/tech/xserve%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Xserve调试方法",
  "name": "Xserve调试方法",
  "description": "Xserve调试方法 调试前置步骤 1、获取源码 apt source xserver-xorg-core 2、安装相关库依赖 sudo apt build-dep xserver-xorg-core 编译步骤 方法一 1 2 3 DEB_CFLAGS_SET=\u0026#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security\u0026#34; DEB_CXXFLAGS_SET=\u0026#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security\u0026#34; dpkg-buildpackage -uc -b 后续需要改动时",
  "keywords": [
    "标签1", "标签2"
  ],
  "articleBody": "Xserve调试方法 调试前置步骤 1、获取源码 apt source xserver-xorg-core\n2、安装相关库依赖 sudo apt build-dep xserver-xorg-core\n编译步骤 方法一 1 2 3 DEB_CFLAGS_SET=\"-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security\" DEB_CXXFLAGS_SET=\"-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security\" dpkg-buildpackage -uc -b 后续需要改动时\n1 2 3 DEB_CFLAGS_SET=\"-ggdb3 -O0 -fdebug-prefix-map=/home/siyu/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security\" DEB_CXXFLAGS_SET=\"-ggdb3 -O0 -fdebug-prefix-map=/home/siyu/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security\" dpkg-buildpackage -uc -nc -b 命令含义：\n-ggdb3: 指定生成调试信息的级别为GDB调试器的级别3。这将为调试提供更详细和丰富的信息。\n-O0: 禁用优化。编译器将不会进行任何优化，这有助于在调试过程中更容易理解源代码。\n-fdebug-prefix-map=/home/siyu/xserver-xorg=.: 指定调试信息中源代码路径的映射关系。将/home/siyu/xserver-xorg的路径映射为.，即当前目录。\n-fstack-protector-strong: 启用堆栈保护。编译器将插入额外的代码来保护函数的局部变量和返回地址，以防止缓冲区溢出攻击。\n-Wformat: 启用格式化字符串检查警告。编译器将检查printf和scanf等函数的格式字符串是否与参数匹配。\n-Werror=format-security: 将格式化字符串检查警告视为错误。如果编译过程中出现格式化字符串不匹配的警告。\ndpkg-buildpackage：这是Debian中用于构建软件包的常用工具。它会根据软件包的源代码和Debian规则文件进行构建，并生成二进制软件包（包括.deb文件）。\n-uc：在构建过程中跳过对软件包源代码的签名验证。这通常用于开发和测试目的，以避免在每次构建时进行源代码签名。\n-b：仅构建二进制软件包，而不构建源代码软件包。这可以加快构建过程，如果只需要生成可执行文件和相关的二进制文件，而不关心源代码软件包。\n-nc：不清理为改动文件。\n方法二 ./autogen.sh\n修改makefile文件\n将CFLAGS和CCASFLAGS 选项修改成\n1 2 CCASFLAGS = -g -O0 CFLAGS = -g -O0 执行make -j8\n调试步骤 find -name \"Xorg\" 找到编译文件\n首先备份系统本身Xorg：\nsudo mv /usr/lib/xorg/Xorg /usr/lib/xorg/Xorg.org\n将自己编译的文件移动到该目录下： sudo cp /home/..../Xorg /usr/lib/xorg\n为保证GDB可以显示源文件，gdb调试需要在编译文件夹下进行调试。\nps -aux | grep X 找到正在运行的xorg pid\nsudo gdb attach {pid} 调试正在运行的程序\n！！！ 若要调试/usr/lib/xorg/modules下的库文件 也是找到备份替换。\n寻找包依赖\n1 2 3 #两种方法 apt-cache search \u003c\u003e dpkg -S \u003c\u003e 命令总结 dpkg-buildpackage命令详解：\n选项 描述 -uc 跳过对软件包源代码的签名验证。 -b 仅构建二进制软件包，而不构建源代码软件包。 -j 指定并行构建的作业数。 -S 仅构建源代码软件包，而不构建二进制软件包。 -sa 在生成源代码软件包时，将原始源代码文件包含在内。 -sd 在生成源代码软件包时，不包含原始源代码文件。 -tc= 指定构建过程中的临时目录。 -rfakeroot 在构建过程中使用fakeroot工具模拟root权限。 -A 仅构建所有架构无关的软件包。 -B 仅构建所有架构相关的软件包。 -d 忽略构建软件包时的依赖关系。 -i 忽略构建软件包时的建议关系。 -I 忽略构建软件包时的建议关系和所有其他关系。 -tc= 使用指定的目录作为临时构建目录。 -S -si -sa 生成并签名源代码软件包，包括原始源代码文件。 –no-pre-clean 在构建之前不执行预清理操作。 –no-preparation 跳过构建准备阶段。 –no-act 仅显示将执行的操作，而不实际执行。 –build=any 构建所有支持的架构。 –preserve-env 保留当前环境变量，不重置为默认值。 –exclude= 在构建过程中排除指定的软件包。 –force-sign 强制对软件包进行签名。 –no-sign 不对软件包进行签名。 –unsigned-changes 允许使用未签名的.changes文件。 –source-option= 传递额外的选项给dpkg-source命令。 错误勘察 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 apt-get install build-essential apt-get install libepoxy-dev $ ./autogen.sh ./autogen.sh: 9: ./autogen.sh: autoreconf: not found # apt --fix-broken install # apt-get install dh-autoreconf $ ./autogen.sh configure.ac:38: error: must install xorg-macros 1.14 or later before running autoconf/autogen # apt-get install xutils-dev $ ./autogen.sh configure.ac:52: error: must install font-util 1.1 or later before running autoconf/autogen # apt-get install xfonts-utils -y $ ./autogen.sh configure: error: Package requirements (glproto \u003e= 1.4.17 gl \u003e= 9.2.0) were not met: # apt-get install x11proto-gl-dev $ ./autogen.sh configure: error: Package requirements (x11) were not met: # apt-get install libx11-dev $ ./autogen.sh configure: error: Package requirements (glproto \u003e= 1.4.17 gl \u003e= 9.2.0) were not met: No package 'gl' found # apt-get install mesa-common-dev # apt-get install libgl1-mesa-dev 失败 //这里不要机械，根据环境不同，酌情成功安装 libgl1-mesa-dev x11proto-gl-dev 即可 # apt-get install aptitude # aptitude install libgl1-mesa-dev $ ./autogen.sh checking for SHA1 implementation... configure: error: No suitable SHA1 implementation found # apt-get install libssl-dev $ ./autogen.sh configure: error: Package requirements (fixesproto \u003e= 5.0 damageproto \u003e= 1.1 xcmiscproto \u003e= 1.2.0 xtrans \u003e= 1.3.5 bigreqsproto \u003e= 1.1.0 xproto \u003e= 7.0.31 randrproto \u003e= 1.6.0 renderproto \u003e= 0.11 xextproto \u003e= 7.2.99.901 inputproto \u003e= 2.3 kbproto \u003e= 1.0.3 fontsproto \u003e= 2.1.3 pixman-1 \u003e= 0.27.2 videoproto compositeproto \u003e= 0.4 recordproto \u003e= 1.13.99.1 scrnsaverproto \u003e= 1.1 resourceproto \u003e= 1.2.0 xf86driproto \u003e= 2.1.0 glproto \u003e= 1.4.17 dri \u003e= 7.8.0 presentproto \u003e= 1.1 xineramaproto xkbfile pixman-1 \u003e= 0.27.2 xfont2 \u003e= 2.0.0 xau xshmfence \u003e= 1.1 xdmcp) were not met: No package 'xcmiscproto' found No package 'bigreqsproto' found No package 'randrproto' found No package 'renderproto' found No package 'fontsproto' found No package 'videoproto' found No package 'compositeproto' found No package 'recordproto' found No package 'scrnsaverproto' found No package 'resourceproto' found No package 'xf86driproto' found No package 'presentproto' found No package 'xineramaproto' found No package 'xkbfile' found No package 'xfont2' found # apt-get install x11proto-xcmisc-dev # apt-get install x11proto-randr-dev # apt-get install x11proto-render-dev # apt-get install x11proto-video-dev # apt-get install x11proto-composite-dev # apt-get install x11proto-record-dev # apt-get install x11proto-scrnsaver-dev # apt-get install x11proto-resource-dev # apt-get install x11proto-xf86dri-dev # apt-get install x11proto-present-dev # apt-get install x11proto-xinerama-dev # apt-get install libxkbfile-dev # apt-get install libxfont-dev # apt-get install x11proto-bigreqs-dev $ ./autogen.sh checking for XSERVERCFLAGS... no configure: error: Package requirements (fixesproto \u003e= 5.0 damageproto \u003e= 1.1 xcmiscproto \u003e= 1.2.0 xtrans \u003e= 1.3.5 bigreqsproto \u003e= 1.1.0 xproto \u003e= 7.0.31 randrproto \u003e= 1.6.0 renderproto \u003e= 0.11 xextproto \u003e= 7.2.99.901 inputproto \u003e= 2.3 kbproto \u003e= 1.0.3 fontsproto \u003e= 2.1.3 pixman-1 \u003e= 0.27.2 videoproto compositeproto \u003e= 0.4 recordproto \u003e= 1.13.99.1 scrnsaverproto \u003e= 1.1 resourceproto \u003e= 1.2.0 xf86driproto \u003e= 2.1.0 glproto \u003e= 1.4.17 dri \u003e= 7.8.0 presentproto \u003e= 1.1 xineramaproto xkbfile pixman-1 \u003e= 0.27.2 xfont2 \u003e= 2.0.0 xau xshmfence \u003e= 1.1 xdmcp) were not met: No package 'bigreqsproto' found Requested 'randrproto \u003e= 1.6.0' but version of RandrProto is 1.5.0 No package 'fontsproto' found No package 'xfont2' found # apt-get install libxfont2 # apt-get install libxfont-dev //环境有问题 # aptitude install libxfont-dev # apt-get install x11proto-bigreqs-dev # apt-get install libcurl4-openssl-dev # apt-get install libpciaccess-dev $ ./autogen.sh 正常的，这会已经差不多ok了，之前编译1.19.2同样步骤已经结束了 Requested 'randrproto \u003e= 1.6.0' but version of RandrProto is 1.5.0 $ ./autogen.sh ",
  "wordCount" : "1944",
  "inLanguage": "en",
  "datePublished": "2023-10-04T21:31:47+08:00",
  "dateModified": "2023-10-04T21:31:47+08:00",
  "author":[{
    "@type": "Person",
    "name": "Siyu"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://Lsiyu7.github.io/en/posts/tech/xserve%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Siyu's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://Lsiyu7.github.io/img/Q.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://Lsiyu7.github.io/en/" accesskey="h" title="Siyu&#39;s Blog (Alt + H)">Siyu&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://Lsiyu7.github.io/en/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://Lsiyu7.github.io/en/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://Lsiyu7.github.io/en/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://Lsiyu7.github.io/en/">Home</a></div>
    <h1 class="post-title">
      Xserve调试方法
    </h1>
    <div class="post-meta"><span title='2023-10-04 21:31:47 +0800 CST'>October 4, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Siyu

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#xserve%e8%b0%83%e8%af%95%e6%96%b9%e6%b3%95" aria-label="Xserve调试方法">Xserve调试方法</a><ul>
                        
                <li>
                    <a href="#%e8%b0%83%e8%af%95%e5%89%8d%e7%bd%ae%e6%ad%a5%e9%aa%a4" aria-label="调试前置步骤">调试前置步骤</a><ul>
                        
                <li>
                    <a href="#1%e8%8e%b7%e5%8f%96%e6%ba%90%e7%a0%81" aria-label="1、获取源码">1、获取源码</a></li>
                <li>
                    <a href="#2%e5%ae%89%e8%a3%85%e7%9b%b8%e5%85%b3%e5%ba%93%e4%be%9d%e8%b5%96" aria-label="2、安装相关库依赖">2、安装相关库依赖</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bc%96%e8%af%91%e6%ad%a5%e9%aa%a4" aria-label="编译步骤">编译步骤</a><ul>
                        
                <li>
                    <a href="#%e6%96%b9%e6%b3%95%e4%b8%80" aria-label="方法一">方法一</a></li>
                <li>
                    <a href="#%e6%96%b9%e6%b3%95%e4%ba%8c" aria-label="方法二">方法二</a></li>
                <li>
                    <a href="#%e8%b0%83%e8%af%95%e6%ad%a5%e9%aa%a4" aria-label="调试步骤">调试步骤</a></li>
                <li>
                    <a href="#%e5%91%bd%e4%bb%a4%e6%80%bb%e7%bb%93" aria-label="命令总结">命令总结</a></li>
                <li>
                    <a href="#%e9%94%99%e8%af%af%e5%8b%98%e5%af%9f" aria-label="错误勘察">错误勘察</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="xserve调试方法">Xserve调试方法<a hidden class="anchor" aria-hidden="true" href="#xserve调试方法">#</a></h1>
<h2 id="调试前置步骤">调试前置步骤<a hidden class="anchor" aria-hidden="true" href="#调试前置步骤">#</a></h2>
<h3 id="1获取源码">1、获取源码<a hidden class="anchor" aria-hidden="true" href="#1获取源码">#</a></h3>
<p><code>apt source xserver-xorg-core</code></p>
<h3 id="2安装相关库依赖">2、安装相关库依赖<a hidden class="anchor" aria-hidden="true" href="#2安装相关库依赖">#</a></h3>
<p><code>sudo apt build-dep xserver-xorg-core</code></p>
<h2 id="编译步骤">编译步骤<a hidden class="anchor" aria-hidden="true" href="#编译步骤">#</a></h2>
<h3 id="方法一">方法一<a hidden class="anchor" aria-hidden="true" href="#方法一">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>DEB_CFLAGS_SET=<span style="color:#0ff;font-weight:bold">&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34;</span>   
</span></span><span style="display:flex;"><span>DEB_CXXFLAGS_SET=<span style="color:#0ff;font-weight:bold">&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/{pwd}/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34;</span> 
</span></span><span style="display:flex;"><span> dpkg-buildpackage -uc -b
</span></span></code></pre></td></tr></table>
</div>
</div><p>后续需要改动时</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>DEB_CFLAGS_SET=<span style="color:#0ff;font-weight:bold">&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/siyu/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34;</span>  
</span></span><span style="display:flex;"><span>DEB_CXXFLAGS_SET=<span style="color:#0ff;font-weight:bold">&#34;-ggdb3 -O0 -fdebug-prefix-map=/home/siyu/xserver-xorg=. -fstack-protector-strong -Wformat -Werror=format-security&#34;</span> 
</span></span><span style="display:flex;"><span>dpkg-buildpackage -uc -nc -b
</span></span></code></pre></td></tr></table>
</div>
</div><p>命令含义：</p>
<p><code>-ggdb3</code>: 指定生成调试信息的级别为GDB调试器的级别3。这将为调试提供更详细和丰富的信息。</p>
<p><code>-O0</code>: 禁用优化。编译器将不会进行任何优化，这有助于在调试过程中更容易理解源代码。</p>
<p><code>-fdebug-prefix-map=/home/siyu/xserver-xorg=.</code>: 指定调试信息中源代码路径的映射关系。将<code>/home/siyu/xserver-xorg</code>的路径映射为<code>.</code>，即当前目录。</p>
<p><code>-fstack-protector-strong</code>: 启用堆栈保护。编译器将插入额外的代码来保护函数的局部变量和返回地址，以防止缓冲区溢出攻击。</p>
<p><code>-Wformat</code>: 启用格式化字符串检查警告。编译器将检查printf和scanf等函数的格式字符串是否与参数匹配。</p>
<p><code>-Werror=format-security</code>: 将格式化字符串检查警告视为错误。如果编译过程中出现格式化字符串不匹配的警告。</p>
<p><code>dpkg-buildpackage</code>：这是Debian中用于构建软件包的常用工具。它会根据软件包的源代码和Debian规则文件进行构建，并生成二进制软件包（包括.deb文件）。</p>
<p><code>-uc</code>：在构建过程中跳过对软件包源代码的签名验证。这通常用于开发和测试目的，以避免在每次构建时进行源代码签名。</p>
<p><code>-b</code>：仅构建二进制软件包，而不构建源代码软件包。这可以加快构建过程，如果只需要生成可执行文件和相关的二进制文件，而不关心源代码软件包。</p>
<p><code>-nc</code>：不清理为改动文件。</p>
<h3 id="方法二">方法二<a hidden class="anchor" aria-hidden="true" href="#方法二">#</a></h3>
<p><code>./autogen.sh</code></p>
<p>修改makefile文件</p>
<p>将<code>CFLAGS</code>和<code>CCASFLAGS</code> 选项修改成</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>CCASFLAGS = -g -O0
</span></span><span style="display:flex;"><span>CFLAGS = -g -O0
</span></span></code></pre></td></tr></table>
</div>
</div><p>执行<code>make -j8</code></p>
<h3 id="调试步骤">调试步骤<a hidden class="anchor" aria-hidden="true" href="#调试步骤">#</a></h3>
<p><code>find -name &quot;Xorg&quot;</code> 找到编译文件</p>
<p>首先备份系统本身Xorg：</p>
<p><code>sudo mv /usr/lib/xorg/Xorg /usr/lib/xorg/Xorg.org</code></p>
<p>将自己编译的文件移动到该目录下：
<code>sudo cp /home/..../Xorg /usr/lib/xorg</code></p>
<p>为保证GDB可以显示源文件，gdb调试需要在编译文件夹下进行调试。</p>
<p><code>ps -aux | grep X</code> 找到正在运行的xorg pid</p>
<p><code>sudo gdb attach {pid}</code> 调试正在运行的程序</p>
<p>！！！ 若要调试<code>/usr/lib/xorg/modules</code>下的库文件 也是找到备份替换。</p>
<p>寻找包依赖</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f">#两种方法</span>
</span></span><span style="display:flex;"><span>apt-cache search &lt;&gt;
</span></span><span style="display:flex;"><span>dpkg -S &lt;&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="命令总结">命令总结<a hidden class="anchor" aria-hidden="true" href="#命令总结">#</a></h3>
<p><code>dpkg-buildpackage</code>命令详解：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-uc</td>
<td>跳过对软件包源代码的签名验证。</td>
</tr>
<tr>
<td>-b</td>
<td>仅构建二进制软件包，而不构建源代码软件包。</td>
</tr>
<tr>
<td>-j<number></td>
<td>指定并行构建的作业数。</td>
</tr>
<tr>
<td>-S</td>
<td>仅构建源代码软件包，而不构建二进制软件包。</td>
</tr>
<tr>
<td>-sa</td>
<td>在生成源代码软件包时，将原始源代码文件包含在内。</td>
</tr>
<tr>
<td>-sd</td>
<td>在生成源代码软件包时，不包含原始源代码文件。</td>
</tr>
<tr>
<td>-tc=<dir></td>
<td>指定构建过程中的临时目录。</td>
</tr>
<tr>
<td>-rfakeroot</td>
<td>在构建过程中使用fakeroot工具模拟root权限。</td>
</tr>
<tr>
<td>-A</td>
<td>仅构建所有架构无关的软件包。</td>
</tr>
<tr>
<td>-B</td>
<td>仅构建所有架构相关的软件包。</td>
</tr>
<tr>
<td>-d</td>
<td>忽略构建软件包时的依赖关系。</td>
</tr>
<tr>
<td>-i</td>
<td>忽略构建软件包时的建议关系。</td>
</tr>
<tr>
<td>-I</td>
<td>忽略构建软件包时的建议关系和所有其他关系。</td>
</tr>
<tr>
<td>-tc=<dir></td>
<td>使用指定的目录作为临时构建目录。</td>
</tr>
<tr>
<td>-S -si -sa</td>
<td>生成并签名源代码软件包，包括原始源代码文件。</td>
</tr>
<tr>
<td>&ndash;no-pre-clean</td>
<td>在构建之前不执行预清理操作。</td>
</tr>
<tr>
<td>&ndash;no-preparation</td>
<td>跳过构建准备阶段。</td>
</tr>
<tr>
<td>&ndash;no-act</td>
<td>仅显示将执行的操作，而不实际执行。</td>
</tr>
<tr>
<td>&ndash;build=any</td>
<td>构建所有支持的架构。</td>
</tr>
<tr>
<td>&ndash;preserve-env</td>
<td>保留当前环境变量，不重置为默认值。</td>
</tr>
<tr>
<td>&ndash;exclude=<pkg></td>
<td>在构建过程中排除指定的软件包。</td>
</tr>
<tr>
<td>&ndash;force-sign</td>
<td>强制对软件包进行签名。</td>
</tr>
<tr>
<td>&ndash;no-sign</td>
<td>不对软件包进行签名。</td>
</tr>
<tr>
<td>&ndash;unsigned-changes</td>
<td>允许使用未签名的.changes文件。</td>
</tr>
<tr>
<td>&ndash;source-option=<opt></td>
<td>传递额外的选项给dpkg-source命令。</td>
</tr>
</tbody>
</table>
<h3 id="错误勘察">错误勘察<a hidden class="anchor" aria-hidden="true" href="#错误勘察">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">92
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>apt-get install build-essential
</span></span><span style="display:flex;"><span>apt-get install libepoxy-dev
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>./autogen.sh: 9: ./autogen.sh: autoreconf: not found
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt --fix-broken install</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install dh-autoreconf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>configure.ac:38: error: must install xorg-macros 1.14 or later before running autoconf/autogen
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install xutils-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>configure.ac:52: error: must install font-util 1.1 or later before running autoconf/autogen
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install xfonts-utils -y</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>configure: error: Package requirements (glproto &gt;= 1.4.17 gl &gt;= 9.2.0) were not met:
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-gl-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>configure: error: Package requirements (x11) were not met:
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libx11-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>configure: error: Package requirements (glproto &gt;= 1.4.17 gl &gt;= 9.2.0) were not met:
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;gl&#39;</span> found
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install mesa-common-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libgl1-mesa-dev   失败</span>
</span></span><span style="display:flex;"><span>//这里不要机械，根据环境不同，酌情成功安装 libgl1-mesa-dev   x11proto-gl-dev 即可
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install aptitude</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># aptitude install libgl1-mesa-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>checking <span style="color:#fff;font-weight:bold">for</span> SHA1 implementation... configure: error: No suitable SHA1 implementation found
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libssl-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>configure: error: Package requirements (fixesproto &gt;= 5.0 damageproto &gt;= 1.1 xcmiscproto &gt;= 1.2.0 xtrans &gt;= 1.3.5 bigreqsproto &gt;= 1.1.0 xproto &gt;= 7.0.31 randrproto &gt;= 1.6.0 renderproto &gt;= 0.11 xextproto &gt;= 7.2.99.901 inputproto &gt;= 2.3 kbproto &gt;= 1.0.3 fontsproto &gt;= 2.1.3 pixman-1 &gt;= 0.27.2 videoproto compositeproto &gt;= 0.4 recordproto &gt;= 1.13.99.1 scrnsaverproto &gt;= 1.1 resourceproto &gt;= 1.2.0 xf86driproto &gt;= 2.1.0 glproto &gt;= 1.4.17 dri &gt;= 7.8.0 presentproto &gt;= 1.1 xineramaproto xkbfile  pixman-1 &gt;= 0.27.2 xfont2 &gt;= 2.0.0 xau xshmfence &gt;= 1.1 xdmcp) were not met:
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;xcmiscproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;bigreqsproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;randrproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;renderproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;fontsproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;videoproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;compositeproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;recordproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;scrnsaverproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;resourceproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;xf86driproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;presentproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;xineramaproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;xkbfile&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;xfont2&#39;</span> found
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-xcmisc-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-randr-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-render-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-video-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-composite-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-record-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-scrnsaver-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-resource-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-xf86dri-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-present-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-xinerama-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libxkbfile-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libxfont-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-bigreqs-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>checking <span style="color:#fff;font-weight:bold">for</span> XSERVERCFLAGS... no
</span></span><span style="display:flex;"><span>configure: error: Package requirements (fixesproto &gt;= 5.0 damageproto &gt;= 1.1 xcmiscproto &gt;= 1.2.0 xtrans &gt;= 1.3.5 bigreqsproto &gt;= 1.1.0 xproto &gt;= 7.0.31 randrproto &gt;= 1.6.0 renderproto &gt;= 0.11 xextproto &gt;= 7.2.99.901 inputproto &gt;= 2.3 kbproto &gt;= 1.0.3 fontsproto &gt;= 2.1.3 pixman-1 &gt;= 0.27.2 videoproto compositeproto &gt;= 0.4 recordproto &gt;= 1.13.99.1 scrnsaverproto &gt;= 1.1 resourceproto &gt;= 1.2.0 xf86driproto &gt;= 2.1.0 glproto &gt;= 1.4.17 dri &gt;= 7.8.0 presentproto &gt;= 1.1 xineramaproto xkbfile  pixman-1 &gt;= 0.27.2 xfont2 &gt;= 2.0.0 xau xshmfence &gt;= 1.1 xdmcp) were not met:
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;bigreqsproto&#39;</span> found
</span></span><span style="display:flex;"><span>Requested <span style="color:#0ff;font-weight:bold">&#39;randrproto &gt;= 1.6.0&#39;</span> but version of RandrProto is 1.5.0
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;fontsproto&#39;</span> found
</span></span><span style="display:flex;"><span>No package <span style="color:#0ff;font-weight:bold">&#39;xfont2&#39;</span> found
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libxfont2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libxfont-dev  //环境有问题</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># aptitude install libxfont-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install x11proto-bigreqs-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libcurl4-openssl-dev</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># apt-get install libpciaccess-dev</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span><span style="display:flex;"><span>正常的，这会已经差不多ok了，之前编译1.19.2同样步骤已经结束了
</span></span><span style="display:flex;"><span>Requested <span style="color:#0ff;font-weight:bold">&#39;randrproto &gt;= 1.6.0&#39;</span> but version of RandrProto is 1.5.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./autogen.sh
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://Lsiyu7.github.io/en/tags/%E6%A0%87%E7%AD%BE1/">标签1</a></li>
      <li><a href="https://Lsiyu7.github.io/en/tags/%E6%A0%87%E7%AD%BE2/">标签2</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://Lsiyu7.github.io/en/posts/tech/%E5%A4%A7%E7%AB%AF%E5%B0%8F%E7%AB%AF%E5%BA%8F%E8%BD%AC%E6%8D%A2/">
    <span class="title">Next »</span>
    <br>
    <span>大端小端序转换</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://Lsiyu7.github.io/en/">Siyu&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
